{"notify_list":null,"description":"","template_variables":[{"default":"*","prefix":"env","name":"env"},{"default":"*","prefix":"deployment","name":"service-instance"}],"is_read_only":false,"id":"uxy-m38-j56","title":"RabbitMQ standard dashboard","url":"/dashboard/uxy-m38-j56/rabbitmq-system-dev-rmq-standard-dashboard","created_at":"2019-04-10T12:08:36.705765+00:00","modified_at":"2019-04-10T15:38:02.196114+00:00","author_handle":"cfaccounts+rabbitmq@pivotal.io","widgets":[{"definition":{"title_size":"16","title":"Overall Throughput (publish vs deliver)","title_align":"left","show_legend":true,"time":{},"requests":[{"q":"sum:cloudfoundry.nozzle.p.rabbitmq_rabbitmq_messages_published_rate{$service-instance}, sum:cloudfoundry.nozzle.p.rabbitmq_rabbitmq_messages_delivered_rate{$service-instance}","style":{"line_width":"thick","palette":"cool","line_type":"solid"},"display_type":"line","metadata":[{"alias_name":"deliver","expression":"sum:cloudfoundry.nozzle.p.rabbitmq_rabbitmq_messages_delivered_rate{$service-instance}"},{"alias_name":"publish","expression":"sum:cloudfoundry.nozzle.p.rabbitmq_rabbitmq_messages_published_rate{$service-instance}"}]}],"type":"timeseries","legend_size":"0"},"layout":{"y":17,"x":15,"width":39,"height":16},"id":5020904822088520},{"definition":{"title_size":"16","title":"Pending Transactions","title_align":"left","markers":[{"display_type":"error dashed","value":"y = 10"}],"show_legend":false,"time":{},"requests":[{"q":"sum:cloudfoundry.nozzle.p.rabbitmq_rabbitmq_queues_3e3d1865_df83_4540_8033_2e6e20586e95_PendingTransactions_depth{*}","style":{"line_width":"normal","palette":"dog_classic","line_type":"solid"},"display_type":"line"}],"type":"timeseries","legend_size":"0"},"layout":{"y":51,"x":15,"width":39,"height":14},"id":8846454515674806},{"definition":{"autoscale":true,"title":"Highest VM Memory Used","title_align":"center","custom_unit":"%","precision":2,"time":{},"title_size":"16","requests":[{"q":"max:cloudfoundry.nozzle.system.mem.percent{$service-instance}","aggregator":"last","conditional_formats":[{"palette":"white_on_green","value":40,"comparator":"<"},{"palette":"white_on_yellow","value":40,"comparator":">"},{"palette":"white_on_red","value":50,"comparator":">"}]}],"type":"query_value"},"layout":{"y":7,"x":66,"width":16,"height":13},"id":640731051235044},{"definition":{"autoscale":true,"title":"Nodes","title_align":"left","precision":2,"time":{},"title_size":"16","requests":[{"q":"sum:cloudfoundry.nozzle.p.rabbitmq.p.rabbitmq_rabbitmq_heartbeat{$service-instance}","aggregator":"last","conditional_formats":[{"palette":"white_on_red","value":1,"comparator":"<"},{"palette":"white_on_yellow","value":2,"comparator":"<="},{"palette":"white_on_green","value":3,"comparator":">="}]}],"type":"query_value"},"layout":{"y":1,"x":22,"width":8,"height":7},"id":1579530851909058},{"definition":{"title_size":"16","title":"Free disk space","title_align":"left","time":{},"requests":[{"q":"top(avg:cloudfoundry.nozzle.p.rabbitmq_rabbitmq_system_disk_free{$service-instance} by {ip},10,'mean','desc')","conditional_formats":[{"palette":"white_on_green","value":2.9,"comparator":">"},{"palette":"white_on_yellow","value":2.9,"comparator":"<"}],"style":{"palette":"dog_classic"}}],"type":"toplist"},"layout":{"y":7,"x":83,"width":28,"height":14},"id":5102977376957431},{"definition":{"title_size":"16","title":"Connections","title_align":"left","show_legend":true,"time":{},"requests":[{"q":"sum:cloudfoundry.nozzle.p.rabbitmq.p.rabbitmq_rabbitmq_connections_count{$service-instance} by {ip}","style":{"line_width":"normal","palette":"dog_classic","line_type":"solid"},"display_type":"area"}],"type":"timeseries","legend_size":"0"},"layout":{"y":48,"x":66,"width":42,"height":21},"id":649076792746834},{"definition":{"autoscale":true,"title":"Unrouted Msg","title_align":"left","precision":2,"time":{},"title_size":"16","requests":[{"q":"avg:cloudfoundry.nozzle.p.rabbitmq_rabbitmq_messages_redelivered_rate{$service-instance}+avg:cloudfoundry.nozzle.p.rabbitmq_rabbitmq_queues_51730068_82eb_4ca4_9668_50042fb1523c_unrouted_messages_depth{$service-instance}","aggregator":"last","conditional_formats":[{"palette":"white_on_red","value":10,"comparator":">"},{"palette":"white_on_yellow","value":1,"comparator":">="},{"palette":"white_on_green","value":1,"comparator":"<"}]}],"type":"query_value"},"layout":{"y":9,"x":22,"width":10,"height":7},"id":6322471928430305},{"definition":{"autoscale":true,"title":"Consumer","title_align":"center","precision":2,"time":{},"title_size":"16","requests":[{"q":"avg:cloudfoundry.nozzle.p.rabbitmq_rabbitmq_queues_3e3d1865_df83_4540_8033_2e6e20586e95_PendingTransactions_consumers{$service-instance}","aggregator":"last","conditional_formats":[{"palette":"white_on_red","value":1,"comparator":"<"},{"palette":"white_on_green","value":1,"comparator":">="}]}],"type":"query_value"},"layout":{"y":66,"x":15,"width":14,"height":10},"id":8784661820454945},{"definition":{"autoscale":true,"title":"Mem Alarm","title_align":"left","precision":2,"time":{},"title_size":"16","requests":[{"q":"sum:cloudfoundry.nozzle.p.rabbitmq.p.rabbitmq_rabbitmq_system_mem_alarm{$service-instance}","aggregator":"last","conditional_formats":[{"palette":"white_on_red","value":1,"comparator":">"},{"palette":"white_on_green","value":1,"comparator":"<"}]}],"type":"query_value"},"layout":{"y":1,"x":31,"width":10,"height":7},"id":3837524439645533},{"definition":{"title_size":"16","title":"Consumers Throughput (ready vs pending)","title_align":"left","show_legend":true,"time":{},"requests":[{"q":"sum:cloudfoundry.nozzle.p.rabbitmq.p.rabbitmq_rabbitmq_messages_available{$service-instance}, sum:cloudfoundry.nozzle.p.rabbitmq.p.rabbitmq_rabbitmq_messages_pending_acknowledgements{$service-instance}","style":{"line_width":"normal","palette":"warm","line_type":"solid"},"display_type":"line","metadata":[{"alias_name":"available","expression":"sum:cloudfoundry.nozzle.p.rabbitmq.p.rabbitmq_rabbitmq_messages_available{$service-instance}"},{"alias_name":"pending","expression":"sum:cloudfoundry.nozzle.p.rabbitmq.p.rabbitmq_rabbitmq_messages_pending_acknowledgements{$service-instance}"}]}],"type":"timeseries","legend_size":"0"},"layout":{"y":34,"x":15,"width":39,"height":16},"id":4966556924061116},{"definition":{"title_size":"16","title":"CPU wait (IO ?)","title_align":"left","show_legend":true,"time":{},"requests":[{"q":"avg:cloudfoundry.nozzle.system.cpu.wait{$service-instance,job:rabbitmq-server} by {index}","style":{"line_width":"normal","palette":"dog_classic","line_type":"solid"},"display_type":"line"}],"type":"timeseries","legend_size":"0"},"layout":{"y":22,"x":66,"width":45,"height":19},"id":7488705147775038},{"definition":{"tick_pos":"50%","show_tick":true,"type":"note","tick_edge":"right","text_align":"right","content":"Availability","font_size":"18","background_color":"yellow"},"layout":{"y":1,"x":0,"width":20,"height":6},"id":3534753016890293},{"definition":{"autoscale":true,"title":"Disk Alarm","title_align":"left","precision":2,"time":{},"title_size":"16","requests":[{"q":"sum:cloudfoundry.nozzle.p.rabbitmq.p.rabbitmq_rabbitmq_system_disk_free_alarm{$service-instance}","aggregator":"last","conditional_formats":[{"palette":"white_on_red","value":1,"comparator":">"},{"palette":"white_on_green","value":1,"comparator":"<"}]}],"type":"query_value"},"layout":{"y":1,"x":42,"width":10,"height":7},"id":3761438380172061},{"definition":{"autoscale":true,"title":"Partitions","title_align":"left","precision":2,"time":{},"title_size":"16","requests":[{"q":"sum:rabbitmq.node.partitions{$service-instance}","aggregator":"last","conditional_formats":[{"palette":"white_on_red","value":1,"comparator":">"},{"palette":"white_on_green","value":1,"comparator":"<"}]}],"type":"query_value"},"layout":{"y":1,"x":53,"width":10,"height":7},"id":6843652811275033},{"definition":{"tick_pos":"50%","show_tick":true,"type":"note","tick_edge":"bottom","text_align":"center","content":"Resource Utilization per node","font_size":"18","background_color":"yellow"},"layout":{"y":1,"x":66,"width":61,"height":5},"id":3191310899843675},{"definition":{"tick_pos":"50%","show_tick":true,"type":"note","tick_edge":"right","text_align":"left","content":"Throughput","font_size":"24","background_color":"yellow"},"layout":{"y":17,"x":0,"width":14,"height":33},"id":2410539026618963},{"definition":{"tick_pos":"50%","show_tick":true,"type":"note","tick_edge":"bottom","text_align":"center","content":"Load","font_size":"18","background_color":"yellow"},"layout":{"y":42,"x":66,"width":61,"height":5},"id":2641749543795233},{"definition":{"tick_pos":"50%","show_tick":true,"type":"note","tick_edge":"right","text_align":"left","content":"Back-office\nConnectivity","font_size":"18","background_color":"yellow"},"layout":{"y":51,"x":0,"width":14,"height":25},"id":949531619733135},{"definition":{"tick_pos":"50%","show_tick":true,"type":"note","tick_edge":"right","text_align":"right","content":"Messaging Health","font_size":"18","background_color":"yellow"},"layout":{"y":9,"x":0,"width":20,"height":6},"id":3798034975863303},{"definition":{"autoscale":true,"title":"Conn churn","title_align":"left","precision":2,"time":{},"title_size":"16","requests":[{"q":"sum:rabbitmq.node.partitions{$service-instance}","aggregator":"last","conditional_formats":[{"palette":"white_on_red","value":1,"comparator":">"},{"palette":"white_on_green","value":1,"comparator":"<"}]}],"type":"query_value"},"layout":{"y":9,"x":33,"width":10,"height":7},"id":7786014601003509},{"definition":{"autoscale":true,"title":"Unsync Queues","title_align":"left","precision":2,"time":{},"title_size":"16","requests":[{"q":"sum:rabbitmq.node.partitions{$service-instance}","aggregator":"last","conditional_formats":[{"palette":"white_on_red","value":1,"comparator":">"},{"palette":"white_on_green","value":1,"comparator":"<"}]}],"type":"query_value"},"layout":{"y":9,"x":44,"width":10,"height":7},"id":1330585511555545}],"layout_type":"free"}
